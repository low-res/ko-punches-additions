/*!
 * Knockout Punches Additions
 * @version v0.1
 * @link https://github.com/low-res/ko-punches-additions
 * @author we.byte GmbH - http://www.webyte.org
 */

define("translator",[],function(){function e(e){this.textbooklet=e,this.locale=""}return e.prototype.setBooklet=function(e){this.textbooklet=e},e.prototype.setLocale=function(e){this.locale=e},e.prototype.translate=function(e){var t=e,n=""!=this.locale?this.textbooklet[this.locale]:this.textbooklet;return n?(n[e]&&(t=n[e]),t):(console.warn("Locale "+this.locale+" is not defined in textbooklet"),t)},e}),/*!
 * numeral.js
 * version : 1.5.3
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */
function(){function e(e){this._value=e}function t(e,t,n,r){var a,i,o=Math.pow(10,t);return i=(n(e*o)/o).toFixed(t),r&&(a=new RegExp("0{1,"+r+"}$"),i=i.replace(a,"")),i}function n(e,t,n){var r;return r=t.indexOf("$")>-1?a(e,t,n):t.indexOf("%")>-1?i(e,t,n):t.indexOf(":")>-1?o(e,t):l(e._value,t,n)}function r(e,t){var n,r,a,i,o,l=t,s=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(t.indexOf(":")>-1)e._value=u(t);else if(t===v)e._value=0;else{for("."!==m[h].delimiters.decimal&&(t=t.replace(/\./g,"").replace(m[h].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+m[h].abbreviations.thousand+"(?:\\)|(\\"+m[h].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+m[h].abbreviations.million+"(?:\\)|(\\"+m[h].currency.symbol+")?(?:\\))?)?$"),a=new RegExp("[^a-zA-Z]"+m[h].abbreviations.billion+"(?:\\)|(\\"+m[h].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+m[h].abbreviations.trillion+"(?:\\)|(\\"+m[h].currency.symbol+")?(?:\\))?)?$"),o=0;o<=s.length&&!(c=t.indexOf(s[o])>-1?Math.pow(1024,o+1):!1);o++);e._value=(c?c:1)*(l.match(n)?Math.pow(10,3):1)*(l.match(r)?Math.pow(10,6):1)*(l.match(a)?Math.pow(10,9):1)*(l.match(i)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=c?Math.ceil(e._value):e._value}return e._value}function a(e,t,n){var r,a,i=t.indexOf("$"),o=t.indexOf("("),u=t.indexOf("-"),s="";return t.indexOf(" $")>-1?(s=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(s=" ",t=t.replace("$ ","")):t=t.replace("$",""),a=l(e._value,t,n),1>=i?a.indexOf("(")>-1||a.indexOf("-")>-1?(a=a.split(""),r=1,(o>i||u>i)&&(r=0),a.splice(r,0,m[h].currency.symbol+s),a=a.join("")):a=m[h].currency.symbol+s+a:a.indexOf(")")>-1?(a=a.split(""),a.splice(-1,0,s+m[h].currency.symbol),a=a.join("")):a=a+s+m[h].currency.symbol,a}function i(e,t,n){var r,a="",i=100*e._value;return t.indexOf(" %")>-1?(a=" ",t=t.replace(" %","")):t=t.replace("%",""),r=l(i,t,n),r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,a+"%"),r=r.join("")):r=r+a+"%",r}function o(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),r=Math.round(e._value-60*t*60-60*n);return t+":"+(10>n?"0"+n:n)+":"+(10>r?"0"+r:r)}function u(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}function l(e,n,r){var a,i,o,u,l,s,c=!1,f=!1,p=!1,d="",g=!1,b=!1,y=!1,x=!1,w=!1,k="",O="",B=Math.abs(e),F=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],_="",M=!1;if(0===e&&null!==v)return v;if(n.indexOf("(")>-1?(c=!0,n=n.slice(1,-1)):n.indexOf("+")>-1&&(f=!0,n=n.replace(/\+/g,"")),n.indexOf("a")>-1&&(g=n.indexOf("aK")>=0,b=n.indexOf("aM")>=0,y=n.indexOf("aB")>=0,x=n.indexOf("aT")>=0,w=g||b||y||x,n.indexOf(" a")>-1?(d=" ",n=n.replace(" a","")):n=n.replace("a",""),B>=Math.pow(10,12)&&!w||x?(d+=m[h].abbreviations.trillion,e/=Math.pow(10,12)):B<Math.pow(10,12)&&B>=Math.pow(10,9)&&!w||y?(d+=m[h].abbreviations.billion,e/=Math.pow(10,9)):B<Math.pow(10,9)&&B>=Math.pow(10,6)&&!w||b?(d+=m[h].abbreviations.million,e/=Math.pow(10,6)):(B<Math.pow(10,6)&&B>=Math.pow(10,3)&&!w||g)&&(d+=m[h].abbreviations.thousand,e/=Math.pow(10,3))),n.indexOf("b")>-1)for(n.indexOf(" b")>-1?(k=" ",n=n.replace(" b","")):n=n.replace("b",""),o=0;o<=F.length;o++)if(a=Math.pow(1024,o),i=Math.pow(1024,o+1),e>=a&&i>e){k+=F[o],a>0&&(e/=a);break}return n.indexOf("o")>-1&&(n.indexOf(" o")>-1?(O=" ",n=n.replace(" o","")):n=n.replace("o",""),O+=m[h].ordinal(e)),n.indexOf("[.]")>-1&&(p=!0,n=n.replace("[.]",".")),u=e.toString().split(".")[0],l=n.split(".")[1],s=n.indexOf(","),l?(l.indexOf("[")>-1?(l=l.replace("]",""),l=l.split("["),_=t(e,l[0].length+l[1].length,r,l[1].length)):_=t(e,l.length,r),u=_.split(".")[0],_=_.split(".")[1].length?m[h].delimiters.decimal+_.split(".")[1]:"",p&&0===Number(_.slice(1))&&(_="")):u=t(e,null,r),u.indexOf("-")>-1&&(u=u.slice(1),M=!0),s>-1&&(u=u.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+m[h].delimiters.thousands)),0===n.indexOf(".")&&(u=""),(c&&M?"(":"")+(!c&&M?"-":"")+(!M&&f?"+":"")+u+_+(O?O:"")+(d?d:"")+(k?k:"")+(c&&M?")":"")}function s(e,t){m[e]=t}function c(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function f(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var n=c(e),r=c(t);return n>r?n:r},-(1/0))}var p,d="1.5.3",m={},h="en",v=null,g="0,0",b="undefined"!=typeof module&&module.exports;p=function(t){return p.isNumeral(t)?t=t.value():0===t||"undefined"==typeof t?t=0:Number(t)||(t=p.fn.unformat(t)),new e(Number(t))},p.version=d,p.isNumeral=function(t){return t instanceof e},p.language=function(e,t){if(!e)return h;if(e&&!t){if(!m[e])throw new Error("Unknown language : "+e);h=e}return(t||!m[e])&&s(e,t),p},p.languageData=function(e){if(!e)return m[h];if(!m[e])throw new Error("Unknown language : "+e);return m[e]},p.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),p.zeroFormat=function(e){v="string"==typeof e?e:null},p.defaultFormat=function(e){g="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r,a=this.length>>>0,i=!1;for(1<arguments.length&&(r=t,i=!0),n=0;a>n;++n)this.hasOwnProperty(n)&&(i?r=e(r,this[n],n,this):(r=this[n],i=!0));if(!i)throw new TypeError("Reduce of empty array with no initial value");return r}),p.fn=e.prototype={clone:function(){return p(this)},format:function(e,t){return n(this,e?e:g,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:r(this,e?e:g)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){function t(e,t){return e+n*t}var n=f.call(null,this._value,e);return this._value=[this._value,e].reduce(t,0)/n,this},subtract:function(e){function t(e,t){return e-n*t}var n=f.call(null,this._value,e);return this._value=[e].reduce(t,this._value*n)/n,this},multiply:function(e){function t(e,t){var n=f(e,t);return e*n*t*n/(n*n)}return this._value=[this._value,e].reduce(t,1),this},divide:function(e){function t(e,t){var n=f(e,t);return e*n/(t*n)}return this._value=[this._value,e].reduce(t),this},difference:function(e){return Math.abs(p(this._value).subtract(e).value())}},b&&(module.exports=p),"undefined"==typeof ender&&(this.numeral=p),"function"==typeof define&&define.amd&&define("numeral",[],function(){return p})}.call(this),define("formater",["numeral"],function(e){var t={getFormatType:function(e){var t="",n=e.attr("class");return n&&(n=n.split(/\s+/),$.each(n,function(e,n){n.indexOf("format-")>=0&&(t=n.split("format-")[1])})),t}},n={formatValue:function(e,n){var r=t.getFormatType(n);return this.formatValueToType(e,r)},formatValueToType:function(t,n){var r=t;if(void 0!=t&&""!=t.toString())switch(n){case"float":t=this.stripCommaFromFloat(t),r=e(t).format("0,0.00");break;case"float-1":t=this.stripCommaFromFloat(t),r=e(t).format("0,0.0");break;case"float-or-empty":t=this.stripCommaFromFloat(t),r=e(t).format("0,0.00"),0==parseFloat(t)&&(r="");break;case"float-or-emptysign":t=this.stripCommaFromFloat(t),r=e(t).format("0,0.00"),0==parseFloat(t)&&(r="-,--");break;case"int":t=this.stripCommaFromFloat(t),r=e(t).format("0,0");break;case"percent":t=this.stripCommaFromFloat(t),r=e(t/100).format("0.0 %");break;case"percent-ceil":t=this.stripCommaFromFloat(t),r=e(t/100).format("0 %");break;case"percent-or-empty":t=this.stripCommaFromFloat(t),r=0==parseFloat(t)?"":e(t/100).format("0.0 %");break;case"time":r=this.formatTime(t),"00:00"==r&&(r="");break;case"date":r=this.formatDbDateToGermanDate(t);break;case"date-db":r=this.formatDateObjectForDb(t);break;case"euro":r="€ "+this.formatValueToType(t,"float");break;case"euro-or-empty":var a=this.formatValueToType(t,"float-or-empty");r=""!=a?"€ "+a:a;break;case"":r=t;break;default:console.log("unknown format type : "+n+". In element:")}return r},formatFloat:function(t){if(t){t=t.toString(),t.indexOf(",")>-1&&-1==t.indexOf(".")&&(t=t.replace(",","."));var n=e().unformat(t);return parseFloat(n).toFixed(2)}return 0},stripCommaFromFloat:function(e){return e=e.toString(),e.indexOf(",")>-1&&-1==e.indexOf(".")&&(e=e.replace(",",".")),e},formatTime:function(e){var t=e.split("");if(1==t.length&&t.unshift(0),t.length<4)for(var n=t.length;4>n;n++)t.push(0);for(var r="",n=0;n<t.length;n++){var a=t[n];2==n&&":"!=a&&(r+=":"),r+=a}return r},extractDateFromPHPdate:function(e){e=e||"";var t=e.split("T");return t[0]},extractTimeFromPHPdate:function(e){if(e){var t=e.split("T"),n=t[1].split(":");return n[0]+":"+n[1]}return e},formatGermanDateToDbDate:function(e){var t=e,n=e.split(".");return 3==n.length&&(t=n[2]+"-"+n[1]+"-"+n[0]),t},formatDbDateToGermanDate:function(e){var t=e,n=e.split("-");if(3==n.length){var r=n[2].split(" ");t=r[0]+"."+n[1]+"."+n[0]}return t},formatDateObjectForDb:function(e){if(e instanceof Date){var t=e.getDate()<10?"0"+e.getDate():e.getDate(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getFullYear();return t+"."+n+"."+r}return e}};return n}),function(e){if("function"==typeof define&&define.amd)define("knockout.punches",["knockout"],e);else if("object"==typeof module){var t=require("knockout");e(t)}else e(window.ko)}(function(e){function t(e,t){return r(n(e),"preprocess",t)}function n(t){return"object"==typeof t?t:e.getBindingHandler(t)||(e.bindingHandlers[t]={})}function r(e,t,n){if(e[t]){var r=e[t];e[t]=function(e,t,a){return(e=r.call(this,e,t,a))?n.call(this,e,t,a):void 0}}else e[t]=n;return e}function a(t){var n=e.bindingProvider.instance;if(n.preprocessNode){var r=n.preprocessNode;n.preprocessNode=function(e){var n=r.call(this,e);return n||(n=t.call(this,e)),n}}else n.preprocessNode=t}function i(t,n){var r=e.getBindingHandler;e.getBindingHandler=function(e){var a;return r(e)||(a=e.match(t))&&n(a,e)}}function o(e){if(-1===e.indexOf("|"))return e;var t=e.match(/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'|\|\||[|:]|[^\s|:"'][^|:"']*[^\s|:"']|[^\s|:"']/g);if(t&&1<t.length){t.push("|"),e=t[0];for(var n,r,a=!1,i=!1,o=1;r=t[o];++o)"|"===r?(a&&(":"===n&&(e+="undefined"),e+=")"),a=i=!0):(i?e="ko.filters['"+r+"']("+e:a&&":"===r?(":"===n&&(e+="undefined"),e+=","):e+=r,i=!1),n=r}return e}function u(e){t(e,o)}function l(t,n,r){function a(r){i[r]&&(i[r]=function(a,i){var o=Array.prototype.slice.call(arguments,0);return o[1]=function(){var e={};return e[t]=i(),e},e.bindingHandlers[n][r].apply(this,o)})}var i=e.utils.extend({},this);return a("init"),a("update"),i.preprocess&&(i.preprocess=null),e.virtualElements.allowedBindings[n]&&(e.virtualElements.allowedBindings[r]=!0),i}function s(n,r){var a=e.getBindingHandler(n);if(a){var i=a.getNamespacedHandler||l;a.getNamespacedHandler=function(){return t(i.apply(this,arguments),r)}}}function c(t,n,r){return"{"!==t.charAt(0)?t:(t=e.expressionRewriting.parseObjectLiteral(t),void e.utils.arrayForEach(t,function(e){r(n+_+e.key,e.value)}))}function f(e){t(e,c)}function p(e){return/^([$_a-z][$\w]*|.+(\.\s*[$_a-z][$\w]*|\[.+\]))$/i.test(e)?"function(_x,_y,_z){return("+e+")(_x,_y,_z);}":e}function d(e){t(e,p)}function m(e,t,a){e=n(e),e._propertyPreprocessors||(r(e,"preprocess",h),e._propertyPreprocessors={}),r(e._propertyPreprocessors,t,a)}function h(t,n,r){if("{"!==t.charAt(0))return t;t=e.expressionRewriting.parseObjectLiteral(t);var a=[],i=this._propertyPreprocessors||{};return e.utils.arrayForEach(t,function(e){var t=e.key;e=e.value,i[t]&&(e=i[t](e,t,r)),e&&a.push("'"+t+"':"+e)}),"{"+a.join(",")+"}"}function v(e){return function(t){return"function("+e+"){return("+t+");}"}}function g(e,t,n){function r(e){var a=e.match(/^([\s\S]*)}}([\s\S]*?)\{\{([\s\S]*)$/);a?(r(a[1]),t(a[2]),n(a[3])):n(e)}(e=e.match(/^([\s\S]*?)\{\{([\s\S]*)}}([\s\S]*)$/))&&(t(e[1]),r(e[2]),t(e[3]))}function b(e){return null==e?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function y(e){if(3===e.nodeType&&e.nodeValue&&-1!==e.nodeValue.indexOf("{{")&&"TEXTAREA"!=(e.parentNode||{}).nodeName){var t=[];if(g(e.nodeValue,function(e){e&&t.push(document.createTextNode(e))},function(n){n&&t.push.apply(t,N.wrapExpression(n,e))}),t.length){if(e.parentNode){for(var n=0,r=t.length,a=e.parentNode;r>n;++n)a.insertBefore(t[n],e);a.removeChild(e)}return t}}}function x(){a(y)}function w(t){if(1===t.nodeType&&t.attributes.length)for(var n=t.getAttribute($),r=e.utils.arrayPushAll([],t.attributes),a=r.length,i=0;a>i;++i){var o=r[i];if(o.specified&&o.name!=$&&-1!==o.value.indexOf("{{")){var u=[],l="";if(g(o.value,function(e){e&&u.push('"'+e.replace(/"/g,'\\"')+'"')},function(e){e&&(l=e,u.push("ko.unwrap("+e+")"))}),1<u.length&&(l='""+'+u.join("+")),l){var s=o.name.toLowerCase(),s=E.attributeBinding(s,l,t)||k(s,l,t),n=n?n+(","+s):s;t.setAttribute($,n),t.removeAttribute(o.name)}}}}function k(t,n){return e.getBindingHandler(t)?t+":"+n:"attr."+t+":"+n}function O(){a(w)}var B=e.unwrap,F=e.punches={utils:{addBindingPreprocessor:t,addNodePreprocessor:a,addBindingHandlerCreator:i,setBindingPreprocessor:t,setNodePreprocessor:a}};F.enableAll=function(){x(),O(),f("attr"),f("css"),f("event"),f("style"),e.bindingHandlers.checked.after.push("attr.value"),u("text"),u("html"),s("attr",o),d("click"),d("submit"),d("optionsAfterRender"),s("event",p),m("template","beforeRemove",p),m("template","afterAdd",p),m("template","afterRender",p)},e.filters={uppercase:function(e){return String.prototype.toUpperCase.call(B(e))},lowercase:function(e){return String.prototype.toLowerCase.call(B(e))},"default":function(e,t){return e=B(e),"function"==typeof e?e:"string"==typeof e?""===b(e)?t:e:null==e||0==e.length?t:e},replace:function(e,t,n){return String.prototype.replace.call(B(e),t,n)},fit:function(e,t,n,r){if(e=B(e),!(t&&(""+e).length>t))return e;switch(n=""+(n||"..."),t-=n.length,e=""+e,r){case"left":return n+e.slice(-t);case"middle":return r=Math.ceil(t/2),e.substr(0,r)+n+e.slice(r-t);default:return e.substr(0,t)+n}},json:function(t,n,r){return e.toJSON(t,r,n)},number:function(e){return(+B(e)).toLocaleString()}},F.textFilter={preprocessor:o,enableForBinding:u};var _=".";i(/([^\.]+)\.(.+)/,function(t,n){var r=t[1],a=e.bindingHandlers[r];return a?(r=(a.getNamespacedHandler||l).call(a,t[2],r,n),e.bindingHandlers[n]=r):void 0}),F.namespacedBinding={defaultGetHandler:l,setDefaultBindingPreprocessor:s,addDefaultBindingPreprocessor:s,preprocessor:c,enableForBinding:f},F.wrappedCallback={preprocessor:p,enableForBinding:d},F.preprocessBindingProperty={setPreprocessor:m,addPreprocessor:m};var M=v("$data,$event");if(F.expressionCallback={makePreprocessor:v,eventPreprocessor:M,enableForBinding:function(e,n){n=Array.prototype.slice.call(arguments,1).join(),t(e,v(n))}},e.bindingHandlers.on={getNamespacedHandler:function(n){return n=e.getBindingHandler("event"+_+n),t(n,M)}},!e.virtualElements.allowedBindings.html){var T=e.bindingHandlers.html.update;e.bindingHandlers.html.update=function(t,n){if(8===t.nodeType){var r=B(n());null!=r?(r=e.utils.parseHtmlFragment(""+r),e.virtualElements.setDomNodeChildren(t,r)):e.virtualElements.emptyNode(t)}else T(t,n)},e.virtualElements.allowedBindings.html=!0}var N=F.interpolationMarkup={preprocessor:y,enable:x,wrapExpression:function(e,t){var n,r=t?t.ownerDocument:document,a=!0;e=b(e);var i=e[0],o=e[e.length-1],u=[];return"#"===i?("/"===o?n=e.slice(1,-1):(n=e.slice(1),a=!1),(i=n.match(/^([^,"'{}()\/:[\]\s]+)\s+([^\s:].*)/))&&(n=i[1]+":"+i[2])):"/"!==i&&(n="{"===i&&"}"===o?"html:"+b(e.slice(1,-1)):"text:"+b(e)),n&&u.push(r.createComment("ko "+n)),a&&u.push(r.createComment("/ko")),u}},$="data-bind",E=F.attributeInterpolationMarkup={preprocessor:w,enable:O,attributeBinding:k};return F}),define("ko-punches-additions",["translator","formater","knockout","knockout.punches"],function(e,t,n){var r=new e;return{init:function(e,n){e.punches.enableAll(),r.setBooklet(n),e.filters.translate=function(t){return r.translate(e.unwrap(t))},e.filters.format=function(n,r){var a=t.formatValueToType(e.unwrap(n),r);return a}},translate:function(e){return r.translate(e)},format:function(e,r){var a=t.formatValueToType(n.unwrap(e),r);return a},setLocale:function(e){r.setLocale(e)}}}),require(["ko-punches-additions"]),require.config({bundles:{}});